#一致性模型
GFS提供弱一致性
consistent：对于文件区域A，如果所有客户端从任何副本上读到的数据都是相同的，那A就是一致的。
defined：如果A是一致的，并且客户端可以看到写入的全部完整数据，那A就是defined，即结果是可预期的。
#租约机制
master确定一个Chunk副本为主副本，与其建立租约，主副本统筹其他的副本进行更改操作的序列化。每个副本都更改完成后才正式写入，这样可以确保并行写入的一致性。
#数据流
- GFS将数据流和控制流分离，数据流顺序沿着一个ChunkServer链推送，目的是为了充分利用机器带宽，最小化推送时延

- 基于TCP连接的，管道式数据推送方式。1MB数据理想状态下80ms左右能分发出去

- 每台ChunkServer会选取里离自己最近的机器做目标推送，Google的网络拓扑较简单，通过IP地址就可计算出节点“距离”


#原子的记录追加

- GFS提供一种具有原子性的数据追加操作：记录追加。即Client只需指定要写入数据（而不用指定偏移值），GFS就保证至少有一次原子的写入操作执行成功，并返回偏移值的Client

- 记录追加的引入是为了在分布式应用中，减少很多Client并行对同份数据写入的同步机制开销