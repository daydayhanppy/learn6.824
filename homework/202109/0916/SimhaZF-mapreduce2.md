# MapReduce
在大规模数据集下简化处理数据的模型

## 4 调优技巧

### 4.1 分区函数
MapReduce需要指定R（reduce的输入输出）的数量。用户要自定义hash函数。
### 4.2 顺序保障
处理中间*key/value pair*时，reduce是按照key增量顺序处理。能确保每个分区都能产生一个有序的输出文件。
### 4.3 Combiner函数
combiner函数一般是和reduce函数一样。它在本地就进行了一次合并，再将合并的结果发到网络。预先合并可以增加一些运行速度。
### 4.4 输入输出的类型
提供了简易的接口方便调整输入输出类型。
### 4.6 跳过损坏的记录
当某一条数据记录会导致bug的时候master会进行标记，当发现不止一次会失败时候，下次直接就会跳过。
### 4.7 本地执行
分布式系统中很难进行调试，所以制作了一个本地化的MapReduce库。这样可以方便测试。
### 4.8 状态信息
master采用http服务器储存状态信息。用户可以分析bug。

### 4.9 计数器
提供一个计数器机制，可以便于知道处理了多少个*key/value pair*。便于**完整性**检查。

## 5 性能
两个实验：对1TB数据模式匹配；对1TB数据排序。
实验证明backup task是有效的（防止有拖后腿的task）；kill一些worker正在处理的进程对实验耗费时间的影响非常小（5%）。
