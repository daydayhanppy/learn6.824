4、5两部分主要讲Mapreduce在基本模型上进行的优化，以及MapReduce的两个实际场景，暂时体会不深，未细读。

### 4. 优化
#### 4.1 划分函数
默认情况下的划分函数使得reduce任务均匀地在不同地worker上执行，但某些场景下不需要这样的特性，所以用户可以自定义划分函数。
#### 4.2 保证key的顺序
保证中间的k-v对会按key升序进行处理，这有利于使输出文件支持按key进行随机访问。
#### 4.3 合并函数


#### 4.4 输入输出类型
MapReduce支持多种格式的输入、输出数据类型
#### 4.5 side-effects


#### 4.6 跳过坏记录
有些bug可以忽略

#### 4.7 局部执行
供调试用的特性
#### 4.8 计数器
MapReduce提供的用于统计各种事件的工具

### 5. 性能
下面两个典型场景代表了一大类真实的MapReduce程序
- 从约1TB数据中查找与模式匹配的数据（提取数据）
- 对约1TB的数据进行排序（转换形式）
主要从上面两个案例实践体现了MapReduce的实际运行性能
#### 5.1 集群配置
#### 5.2 grep
#### 5.3 sort
#### 5.4 备份任务的影响
#### 5.5 Machine Failures